<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!-- 视口-->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"/>
    <title>jd-08</title>
    <link rel="stylesheet" href="css/base.css"/>
    <link rel="stylesheet" href="css/index.css"/>
</head>
<body>
    <!-- 布局的盒子-->
    <div class="jd-layout">
        <!-- 头部-->
        <div class="jd-header">
            <div class="header-in">
                <!-- logo-->
                <a href="#" class="icon-logo"></a>
                <!-- 搜索框-->
                <form>
                    <span class="icon-search"></span>
                    <input type="search" placeholder="啤酒饮料花生米，有没有需要的？"/>
                </form>
                <!-- 登录-->
                <a href="#" class="login">登录</a>
            </div>
        </div>
        <!-- banner-->
        <div class="jd-banner">
            <ul>
                <li><a href="#"><img src="images/l8.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l1.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l2.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l3.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l4.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l5.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l6.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l7.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l8.jpg" alt=""/></a></li>
                <li><a href="#"><img src="images/l1.jpg" alt=""/></a></li>
            </ul>
            <ol>
                <li class="current"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ol>
        </div>
        <!-- 导航-->
        <div class="jd-nav b-b">
            <ul class="clearfix">
                <li>
                    <a href="#">
                        <img src="images/nav0.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav1.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav2.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav3.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav4.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav5.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav6.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/nav7.png" alt=""/>
                        <p>商品分类</p>
                    </a>
                </li>
            </ul>
        </div>
        <!--主体模块-->
        <div class="jd-main">
            <!-- 秒杀-->
            <div class="item sk">
                <div class="item-head">
                    <!-- logo-->
                    <span class="sk-logo pull-left m-l10 "></span>
                    <span class="sk-title pull-left m-l10">掌上秒杀</span>
                    <div class="sk-time pull-left m-l10">
                        <span>0</span>
                        <span>0</span>
                        <span>:</span>
                        <span>0</span>
                        <span>0</span>
                        <span>:</span>
                        <span>0</span>
                        <span>0</span>
                    </div>
                    <a href="#" class="more pull-right m-r10">更多>></a>
                </div>
                <div class="item-body">
                     <ul class="clearfix">

                         <li>
                             <a href="#"><img src="images/detail01.jpg" alt=""/></a>
                             <p>9.9</p>
                             <p>9999</p>
                         </li>
                         <li>
                             <a href="#" class="b-l b-r"><img src="images/detail02.jpg" alt=""/></a>
                             <p>9.9</p>
                             <p>9999</p>
                         </li>
                         <li>
                             <a href="#"><img src="images/detail01.jpg" alt=""/></a>
                             <p>9.9</p>
                             <p>9999</p>
                         </li>
                     </ul>
                </div>
            </div>
            <div class="item">
                <div class="item-head">
                    <h4>京东超市</h4>
                </div>
                <div class="item-body clearfix">
                    <a href="#" class="pull-left b-r"><img src="images/cp1.jpg" alt=""/></a>
                    <a href="#" class="pull-right b-b"><img src="images/cp2.jpg" alt=""/></a>
                    <a href="#" class="pull-right" ><img src="images/cp2.jpg" alt=""/></a>
                </div>
            </div>
            <div class="item">
                <div class="item-head">
                    <h4>京东超市</h4>
                </div>
                <div class="item-body clearfix">
                    <a href="#" class="pull-right b-l"><img src="images/cp4.jpg" alt=""/></a>
                    <a href="#" class="pull-left b-b"><img src="images/cp5.jpg" alt=""/></a>
                    <a href="#" class="pull-left" ><img src="images/cp6.jpg" alt=""/></a>
                </div>
            </div>
            <div class="item">
                <div class="item-head">
                    <h4>京东超市</h4>
                </div>
                <div class="item-body clearfix">
                    <a href="#" class="pull-left b-r"><img src="images/cp1.jpg" alt=""/></a>
                    <a href="#" class="pull-right b-b"><img src="images/cp2.jpg" alt=""/></a>
                    <a href="#" class="pull-right" ><img src="images/cp2.jpg" alt=""/></a>
                </div>
            </div>
            <div class="item">
                <div class="item-head">
                    <h4>京东超市</h4>
                </div>
                <div class="item-body clearfix">
                    <a href="#" class="pull-right b-l"><img src="images/cp4.jpg" alt=""/></a>
                    <a href="#" class="pull-left b-b"><img src="images/cp5.jpg" alt=""/></a>
                    <a href="#" class="pull-left" ><img src="images/cp6.jpg" alt=""/></a>
                </div>
            </div>
            <div class="item">
                <div class="item-head">
                    <h4>京东超市</h4>
                </div>
                <div class="item-body clearfix">
                    <a href="#" class="pull-left b-r"><img src="images/cp1.jpg" alt=""/></a>
                    <a href="#" class="pull-right b-b"><img src="images/cp2.jpg" alt=""/></a>
                    <a href="#" class="pull-right" ><img src="images/cp2.jpg" alt=""/></a>
                </div>
            </div>
            <div class="item">
                <div class="item-head">
                    <h4>京东超市</h4>
                </div>
                <div class="item-body clearfix">
                    <a href="#" class="pull-right b-l"><img src="images/cp4.jpg" alt=""/></a>
                    <a href="#" class="pull-left b-b"><img src="images/cp5.jpg" alt=""/></a>
                    <a href="#" class="pull-left" ><img src="images/cp6.jpg" alt=""/></a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/zepto/zepto.min.js"></script>
    <script src="js/zepto/fx.js"></script>
    <script src="js/zepto/touch.js"></script>

    <script>
        /* 原生js轮播图
         * 需求：
         * 1、定时器切换轮播图
         * 2、实现无缝滚动效果
         * 3、角标同步动画
         * 4、触屏切换轮播图
         * */

        $(function(){
            var index=1;
            var w=$('.jd-banner').width();

            //让ul执行动画的代码
            var setAnimate=function(){
                $('.jd-banner ul').animate({'transform':'translateX('+(-index*w)+'px)'},200,function(){
                    //动画结束后做边界检测
                    if(index>=9){
                        index=1;
                        //快速跳转进行重合
                        var x=-index*w;
                        $('.jd-banner ul').css('transform','translateX('+x+'px)');
                    }

                    if(index<=0){
                        index=8;
                        //快速跳转进行重合
                        var x=-index*w;
                        $('.jd-banner ul').css('transform','translateX('+x+'px)');
                    }
                    //角标同步
                    $('.jd-banner ol li').eq(index-1).addClass('current').siblings().removeClass('current');
                });
            }

          //  1、定时器切换轮播图
            var timer=setInterval(function(){
                index++;
                setAnimate();
            },5000);

            //4、触屏切换轮播图

            $('.jd-banner')[0].addEventListener('touchmove',function(e){
                e.preventDefault();
            });

            $('.jd-banner').swipeLeft(function(){
                //下一张
                index++;
                setAnimate();
            });

            $('.jd-banner').swipeRight(function(){
                //上一张
                index--;
                setAnimate();
            });

        });

    </script>
</body>
</html>